<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png><link rel=manifest href=/images/site.webmanifest><title>Week 5 - Database Design / Midterm Prep</title><meta name=description content="2019 Humber Database Course"><meta name=author content="Simon Borer"><link rel=stylesheet href=https://www.dbcourse2019.com/sass/main.min.34b2570db7ab744cb818f2ff45a2b83797ad4325cfe1256dc2ce3f1ef607aabe.css><link rel=stylesheet href=/css/codemirror.css></head><body><main class=post><article><div class="hero hero--page" style=background-image:url(/images/arch.jpg)><nav class=page-nav><a class="button small primary page-nav__link" href=https://www.dbcourse2019.com>Home</a>
<a class="button small primary page-nav__link" href=/slides//posts/the-5th-week/>Slides</a></nav><h1 class=page-title>Week 5 - Database Design / Midterm Prep</h1></div><div class=grid-container><div class=grid-x><div class="cell large-6 large-offset-3 medium-10 medium-offset-1"><section class=slide-only><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2>Happy Monday!</h2></div></div></section><section class=slide-only><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2>Your midterm is on October 28th</h2><p>...during regular classroom hours.</p></div></div></section><section><h2 class=slide-only>Here's what we're going to do today:</h2><div class=grid-x><div class="cell large-10 large-offset-1"><ol class=toc><li><a href=#design>Steps to designing a database</a></li><li><a href=#midterm>Midterm prep</a></li><li><a href=#lab>Lab</a></li></ol></div></div></section><section id=design><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2>Steps for designing a database</h2><ol><li>Identify data</li><li>Simplify data</li><li>Divide into tables and columns</li><li>Choose primary & foreign keys</li><li>Normalize</li><li>Index</li></ol></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2>Identifying data</h2><p>So far we've gotten datasets where the data has been selected for us. However, when designing a database, you'll often have to make decisions about what kinds of data are needed.</p><p>Can you identify what the data that we might need to store when setting up a typical e-commerce site?</p><div class="callout primary"><p>Try thinking first about the data <em>entities</em> (people, events, objects, etc.) that are important.</p></div></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2>Simplifying data</h2><p>In this step, we break down our data into the smallest necessary pieces.</p><p>It's important to think of the current <strong>and potential future</strong> use-cases for the data.</p><p>How would you break down an address?</p><code>John Doe, 143 Humber Blvd., Rm 205, Toronto, ON, M7V 3X6</code></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2>Dividing into tables and columns</h2><p>Tables are for <em>entities</em> (types of things).</p><p>Columns are for <em>attributes</em> (stuff about things).</p><p>Rows are for <em>instances</em> (things).</p><p>For example, if I need to keep track of people's phone numbers, the people are the entity, the numbers are the attribute, and each person is an instance.</p></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2>So you want to create a table...</h2><p>As you go to make tables for your database, a few things to know/remember:</p><ul><li>Each cell should contain no more than one piece of usable data</li><li>Columns are for categories of data</li><li>Rows are for instances of data</li><li>Tables can only be created in a db if you have permission (don't worry - you do!)</li></ul></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2>Designing your table - the basics</h2><p>For each column, you'll need to decide the following:</p><ul><li>The name of the column</li><li>The data type</li><li>Whether to set a default</li><li>Whether to allow <code>null</code></li></ul></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><p>Let's look at this code:</p><pre><code class=language-sql>CREATE TABLE new_students
(
  student_id  INT(6)     PRIMARY KEY,
  last_name   VARCHAR(15)  NOT NULL,
  first_name  VARCHAR(15),
  gpa         NUMERIC(3, 2)
)</code></pre></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><p>Okay, now let's populate our table.</p><p>Let's find the errors in these rows so we can insert them.</p><pre><code class=language-sql>INSERT INTO new_students
VALUES(123, 'Voorhees', 'Jason', 234.43);
INSERT INTO new_students
VALUES(122, 'Myers', 'Michael', 'W', 1.9);
INSERT INTO new_students
VALUES(123, 'Kreuger', 'Freddy', 3.8);
INSERT INTO new_students
VALUES(124, null, 'Chucky', 3.4);</code></pre></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><p>The errors we just cleared were created by the <em>constraints</em> we made when creating the table.</p></div></div></section><section id="<%= page.today[2].id %>"><div class=grid-x><div class="cell medium-10 medium-offset-1"><p>Constraints are:</p><ul><li>Primary key (both <code>UNIQUE</code> and <code>NOT NULL</code>)</li><li>Foreign key (must match the value in another table)</li><li>UNIQUE</li><li>NOT NULL</li><li>CHECK (a condition, written as we would a <code>WHERE</code> statement)</li></ul><p>Also a kind of constraint (but we don't call it that):</p><ul><li>The datatype (including the size and other parameters)</li></ul></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2>The foreign key constraint</h2><pre><code class=language-sql>CREATE TABLE work_placements
(
  placement_id  INT(6)     PRIMARY KEY,
  student       INT(6)     REFERENCES new_students(student_id),
  country       VARCHAR(20)  DEFAULT 'Canada',
  name          VARCHAR(15)
);</code></pre><p>The syntax for creating a foreign key constraint is <code class=language-sql>REFERENCES {table}({columnName})</code></p><p class="callout alert">If you try to create a foreign key constraint with an incompatible datatype, you'll get an error.</p></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><p>Try this:</p><pre><code class=language-sql>INSERT INTO work_placements
VALUES(123, 120, DEFAULT, 'Crystal Lake');</code></pre></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><p>Now run <code class=language-sql>SELECT * FROM work_placements</code></p><p>Note the value in the country column. We didn't insert that - how did it get there?</p><p class="callout primary">Try using <code>DEFAULT</code> with <code>NOW()</code> - it can come in really handy!</p></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><p>A good naming convention for constraints is [table_name]_[column_name]_[constraint_shortform]</p><table><thead><tr><th>Constraint</th><th>Shortform</th></tr></thead><tbody><tr><td>Primary Key</td><td>pk</td></tr><tr><td>Foreign Key</td><td>fk</td></tr><tr><td>Unique</td><td>uk</td></tr><tr><td>Check</td><td>ck</td></tr><tr><td>Not null</td><td>nn</td></tr></tbody></table></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><p><strong>Q: Can you define more than one primary key?</strong></p><p>A: Yes! They're often used with 'bridging' tables that are created to resolve many-to-many relationships.</p><p><strong>Q: Can you add or otherwise change the constraints to an existing table?</strong></p><p>A: Yup! Just use the <code>ALTER TABLE</code> command. <code class=language-sql>ALTER TABLE {tableName} ADD CONSTRAINT {constraintName} {constraint}</code>.</p><p><strong>Q: Can I specify that if the row referenced by a foreign key is deleted, that should also drop the foreign key?</strong></p><p>A: Yes, but that's a bold move! You can add the command <code class=language-sql>ON DELETE CASCADE</code> to your constraint definition, like this: <code class=language-sql>CONSTRAINT work_placements_student_fk REFERENCES new_students(student_id) ON DELETE CASCADE</code></p></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2>Choosing keys</h2><p>Sometimes, there will be an obvious attribute (column) that acts as a 'fingerprint' for each instance (row).</p><p>Most times, however, you'll need to create your primary key from scratch. This is a good thing - it means that your primary key doesn't need to worry about being anything but your primary key.</p><p>To create a foreign key, you need two entities (tables) that have a relationship, where one of them has unique records that can be referenced by the other.</p></div></div></section><section id=sequence><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2><code>AUTO_INCREMENT</code></h2></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><pre class=slide-only><code class=language-sql>CREATE TABLE books (
  book_id INT(11) NOT NULL AUTO_INCREMENT,
  author_first_name VARCHAR(50),
  author_last_name VARCHAR(50),
  CONSTRAINT book_pk PRIMARY KEY (book_id)
);</code></pre><textarea data-code-mirror=sql data-code-mirror-height=160 cols=50 class=post-only>CREATE TABLE books (
  book_id INT(11) NOT NULL AUTO_INCREMENT,
  author_first_name VARCHAR(50),
  author_last_name VARCHAR(50),
  CONSTRAINT book_pk PRIMARY KEY (book_id)
);</textarea><p>Create a table called <code>books</code> with three columns.</p><p>The <code>book_id</code> column can't be empty when inserting data, and will automatically be given a value one greater than the previous row.</p><p>The <code>author_first_name</code> and <code>author_last_name</code> columns can have up to 50 characters.</p><p>Finally, we identify the table's primary key (<code>book_id</code>). This constraint means that the value in this column has to be unique. We give it a name (<code>book_pk</code>) so we can reference it elsewhere.</p></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><p>If you need a primary key, don't write them out by hand - just let <code>AUTO-INCREMENT</code> do it's thing!</p><pre class=slide-only><code class=language-sql>-- You can omit your primary key from your list of columns
INSERT INTO books (author_first_name, author_last_name) VALUES ('Stephen', 'King');
-- OR if you don't want to write out all your columns, you can just pass NULL
INSERT INTO books VALUES (NULL, 'Stephen', 'King');</code></pre><textarea data-code-mirror=sql data-code-mirror-height=160 cols=50 class=post-only>-- You can omit your primary key from your list of columns
INSERT INTO books (author_first_name, author_last_name) VALUES ('Stephen', 'King');
-- OR if you don't want to write out all your columns, you can just pass NULL
INSERT INTO books VALUES (NULL, 'Stephen', 'King');</textarea></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2>Normalization</h2><p>Normalization is a the process of separating your data to reduce redundancy.</p><p>Most of the tables we've worked with so far are already normalized.</p></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><p>Normalization is required when, for instance, you have repeating columns.</p><p>If we had a table that contained one row for each person registered at the library, with columns for each book that they are currently borrowing, that table would need normalization.</p><table><thead><tr><th>first name</th><th>last name</th><th>card number</th><th>book_1</th><th>book_2</th><th>...</th></tr></thead><tbody><tr><td>Simon</td><td>Borer</td><td>1234567</td><td>How To Cook For Humans</td><td>How To Cook Forty Humans</td><td>...</td></tr></tbody></table></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><p>Normalization is also required when you have redundant data.</p><p>If we had a table that had a record for every time anyone took a book out of the library, that table would need normalization.</p><table><thead><tr><th>first name</th><th>last name</th><th>card number</th><th>book</th><th>date</th></tr></thead><tbody><tr><td>Simon</td><td>Borer</td><td>1234567</td><td>Databases for Dummies</td><td>31-10-2019</td></tr><tr><td>Simon</td><td>Borer</td><td>1234567</td><td>Self-Esteem for Dummies</td><td>31-10-2019</td></tr></tbody></table></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><p>To normalize these tables, we'd need to break the data down into 3 tables:</p><ul><li><strong>Table 1</strong>: Each registered person</li><li><strong>Table 2</strong>: Each book</li><li><strong>Table 3</strong>: Each instance of a book being borrowed</li></ul></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2>Why three tables?</h2><p>If we were to try to build our library table with <em>only</em> one table for registered people and one table for each book, that would create a <em>many-to-many</em> relationship - many people can take out one book, and many books can be taken out by one person.</p><p>To keep track of who took out which book, we'd have to have multiple columns of an indeterminate number, i.e. borrowed_book_1, borrowed_book_2, etc.</p><p>When we design our databases, we resolve these many-to-many relationships with <em>bridging tables</em>. In this case, our bridging table is a table for each time a book is borrowed. This table references <em>both</em> the books table and the people table.</p></div></div></section><section id=midterm><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2>Midterm prep</h2><p>Let's work with the invoices table to prep for the midterm.</p><p>The midterm <em>may</em> include content from <em>any</em> of our classes.</p><p>If you know your way around the different table joins and summary functions, you'll probably be ok.</p><p>What we cover today will have a couple of additions/clarifications, but mostly we'll be going over stuff we've talked about already.</p></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><p>In this example, we use a <code>JOIN</code> to find all vendors with an unpaid invoice:</p><pre><code class=language-sql>-- Select all columns from vendors
SELECT DISTINCT v.*
-- Left join vendors and invoices
FROM vendors v
LEFT JOIN invoices i
    ON v.vendor_id = i.vendor_id
-- Filter for an invoice id with no payment date
WHERE payment_date IS NULL
    AND invoice_id IS NOT NULL</code></pre></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><p>In this example, we format a summary query to make a readable output showing vendors that have a balance owing.</p><pre><code class=language-sql>SELECT CONCAT(v.vendor_name,
  ' owes us $',
  SUM(invoice_total - payment_total - credit_total)) 
    AS "Who owes what"
FROM invoices i
JOIN vendors v ON i.vendor_id = v.vendor_id
WHERE invoice_total - payment_total - credit_total > 0
GROUP BY v.vendor_id, v.vendor_name</code></pre></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><p>In this example, we see what vendors have more than 2 invoices.</p><pre><code class=language-sql>SELECT 
    vendor_id AS "Vendor ID", 
    COUNT(invoice_id) AS "Invoices"
FROM vendors
JOIN invoices
    USING(vendor_id)
GROUP BY vendor_id
HAVING COUNT(invoice_id) > 2
ORDER BY COUNT(invoice_id) DESC</code></pre></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2>The Feynmann technique</h2><p>The Feynmann technique is a way to study. It's very simple and effective.</p><ol><li>Without looking at your notes, write down an explanation of the concept you want to study. Write it as though you're teaching it, using plain language. The purpose of this is identify what you know and what you don't know.</li><li>Whatever you don't know, look up. Repeat step 1.</li></ol></div></div></section><section><div class=grid-x><div class="cell medium-10 medium-offset-1"><h2 class=h2>Assignment time!</h2><p class=slide-only>See <a href=/posts/the-5th-week/#lab target=_blank>notes<span class=show-for-sr> Opens in a new tab</span></a></p></div></div></section><section id=lab class=post-only><div class=grid-x><div class="cell medium-10 medium-offset-1"><p>As this is prep for your midterm, try doing as much as you can without looking at the notes.</p><ol><li>Write a query that uses an alias</li><li>Write a query that concatenates two column names and a string</li><li>Query the dual table to divide the sum of 848 and 1126 from the sum of 45 plus 2 (using the order of operations)</li><li>Write a query that excludes rows based on a pattern. This pattern should match more than one value.</li><li>Write a query that sorts things by the third last letter</li><li>Using <code>dual</code>, <em>and without hardcoding the current date</em>, find out how many days are between now and Hallowe'en, rounded off to the full day</li><li>Write a query that shows all the invoices if they don't have a listing in <code>invoice_line_items</code></li><li>Write a query that joins invoices, vendors, and vendor_contacts that won't exclude any rows from any of the tables</li><li>Write a query that counts how many invoices there are</li><li>Write a query that gets a list of all the vendors with no invoices</li><li>Write a query that lists all the vendor names, and if they have invoices, list the line item description.</li><li>Write a query that gets the average balance owing from all invoices</li><li>Write a query that gets the sum of all the invoices in the month of July (any year)</li><li>Write a query that gets all the vendor ids, along with the most and least they've paid on an invoice, assuming those two numbers are different</li><li>Write a query that gets all the invoices where the credit total is more than average</li><li>Create a table of books. Include books with more than one author. Include all the information you think a library might use.</li><li>Create a table of authors. Include authors who have written more than one book in the previous table. Update the previous table if necessary.</li><li>Create a bridging table between the two. Write statements to update the previous tables if necessary.</li></ol></div></div></section><section class=post-only><div class=grid-x><div class="cellmedium-10 medium-offset-1 post-section"><h2 class=h2>Here's a little cheat sheet.</h2><ul><li><a href=#basicQuery>Basic query</a></li><li><a href=#where>Where</a></li><li><a href=#alteringValues>Altering values - arithmetic and scalar functions</a></li><li><a href=#orderOfOperations>Order of operations</a></li><li><a href=#joins>JOINs</a></li><li><a href=#aggregateFunctions>Aggregate functions</a></li><li><a href=#groupBy>GROUP BY</a></li><li><a href=#crud>CRUD</a></li></ul></div></div></section><section class=post-only id=basicQuery><div class=grid-x><div class="cell medium-10 medium-offset-1 post-section"><h2 class=h2>Basic query</h2><pre><code class=language-sql>SELECT [DISTINCT] {column(s)}
FROM {table}
-- optional
WHERE {condition(s)}
ORDER BY {column(s)} [ASC|DESC]
LIMIT {number} OFFSET {number}
</code></pre></div></div></section><section class=post-only id=where><div class=grid-x><div class="cell medium-10 medium-offset-1 post-section"><h2 class=h2>WHERE</h2><div class=callout>Values can include <strong>strings</strong>, <strong>numbers</strong>, and <strong>dates</strong>. Most often these values come from referencing a column name.</div><div class=callout>Operators can be comparative (=, <>, >=, <=), or built-in operators like <code>IN</code> for a list, <code>BETWEEN</code> for a range, <code>LIKE</code> for a pattern, or <code>IS NULL</code>. All built-in operators can be inverted with <code>NOT</code>.</div><div class=callout>Statements can be chained with logical operators: <code>AND</code>, <code>OR</code>, and <code>NOT</code></div><pre><code class=language-sql>SELECT {column(s)}
FROM {table}
WHERE {value} {operator} {value}
  {logical operator} {value} {operator} {value}
</code></pre></div></div></section><section class=post-only id=alteringValues><div class=grid-x><div class="cell medium-10 medium-offset-1 post-section"><h2 class=h2>Altering values</h2><div class=callout>Anywhere we can use values, we can alter them with arithmetic operators, or scalar (one-in, one-out) functions.</div><pre><code class=language-sql>SELECT col1 * 5, REVERSE(col2) 
FROM {table}</code></pre></div></div></section><section class=post-only><div class=grid-x><div class="cell medium-10 medium-offset-1"><table><thead><tr><th colspan=4 class=text-center>Common scalar functions</th></tr><tr><th>Name</th><th>Example</th><th>Example result</th><th>Description</th></tr></thead><tbody><tr><td>Round</td><td><code class=language-sql>ROUND(57.9283, 2)</code></td><td>57.93</td><td>Returns a number rounded to the specified decimal place (defaults to no decimal).</td></tr><tr><td>In String</td><td><code class=language-sql>INSTR('Demodogs' , 'dog')</code></td><td>5</td><td>Returns the location of a substring in a string</td></tr><tr><td>Length</td><td><code class=language-sql>LENGTH('Mornings are for coffee and contemplation')</code></td><td>41</td><td>Returns the number of characters</td></tr><tr><td>Left trim</td><td><code class=language-sql>LTRIM(' MKULTRA ')</code></td><td>'MKULTRA '</td><td>Trims initial whitespace</td></tr><tr><td>Replace</td><td><code class=language-sql>REPLACE('High score: DUSTIN' , 'DUSTIN' , 'MADMAX')</code></td><td>High score: MADMAX</td><td>Replaces all of one string value with another.</td></tr><tr><td>Uppercase</td><td><code class=language-sql>UPPER('Why are you keeping this curiosity door locked?')</code></td><td>WHY ARE YOU KEEPING THIS CURIOSITY DOOR LOCKED?</td><td>Converts string to uppercase</td></tr><tr><td>System date</td><td><code class=language-sql>NOW()</code></td><td>2019-10-06 02:40:19.0</td><td>Returns the current database system date.</td></tr><tr><td>Modulus</td><td><code class=language-sql>MOD(11,5)</code></td><td>1</td><td>Returns the modulus (remainder) of two values</td></tr><tr><td>Coalesce</td><td><code class=language-sql>COALESCE(NULL,'Will Byers')</code></td><td>Will Byers</td><td>Replaces null values with specified value.</td></tr></tbody></table></div></div></section><section class=post-only id=orderOfOperations><div class=grid-x><div class="cell medium-10 medium-offset-1 post-section"><h2 class=h2>Order of operations</h2><p>You can change the order in which operators execute with parentheses. This applies to arithmetical operators, but also includes logical operators - <code>AND</code> & <code>OR</code>. Otherwise, operations follow BEDMAS - <strong>B</strong>rackets (a.k.a. parentheses), <strong>E</strong>xponents, <strong>D</strong>ivision and <strong>M</strong>ultiplication, <strong>A</strong>ddition and <strong>S</strong>ubtraction.</p></div></div></section><section class=post-only id=joins><div class=grid-x><div class="cell medium-10 medium-offset-1 post-section"><h2 class=h2>JOINs</h2><p>Joins merge rows between two tables by finding rows in each table that have a column that matches.</p><p>Joins are inner joins by default - only return rows that are matched.</p><p>Outer joins return rows that don't have a match in the other table.</p><p>One kind of outer join is a <code>RIGHT JOIN</code>, which includes rows from the first table that don't have a match, but excludes rows form the second table that don't have a match.</p><p>A <code>LEFT JOIN</code> does the opposite.</p><p><code>FULL JOIN</code>s are not a feature of MySQL, but we can mimic them with a <code>UNION</code> of a right join and a left join.</p><p>A <code>SELF JOIN</code> creates a virtual copy of a table, and then joins to itself. This is usually for finding rows that match on certain rows but not others.</p><pre><code class=language-sql>SELECT {columnName} 
FROM {table1} {table1Alias}
[LEFT|RIGHT] JOIN {table2} {table2Alias}
ON {table1Alias}.{columnName} = {table2Alias}.{columnName}
</code></pre></div></div></section><section class=post-only id=aggregateFunctions><div class=grid-x><div class="cell medium-10 medium-offset-1 post-section"><h2 class=h2>Aggregate functions</h2><div class=callout>Aggregate functions can take in <em>many</em> values and return one value. The most common are <code>AVG()</code>, <code>SUM()</code>, <code>MIN()</code>, <code>MAX()</code>, and <code>COUNT()</code>.</div><pre><code class=language-sql>SELECT AVG({columnName}) FROM {table}</code></pre></div></div></section><section class=post-only id=groupBy><div class=grid-x><div class="cell medium-10 medium-offset-1 post-section"><h2 class=h2>GROUP BY</h2><p><code>GROUP BY</code> lets you run aggregate functions against groups of rows within a table. These groups are created grouping rows together based on matching values from a specified column.</p><p>You can filter row groups using <code>HAVING</code>, just like you filter rows using <code>WHERE</code>.</p><pre><code class=language-sql>SELECT {columnName1}, AVG({columnName2})
FROM {table}
GROUP BY {columnName1}
-- optional
HAVING {value} {operator} {value}</code></pre></div></div></section><section class=post-only id=crud><div class=grid-x><div class="cell medium-10 medium-offset-1 post-section"><h2 class=h2>CRUD in SQL</h2><table><tbody><tr><td><strong>Create</strong></td><td><code>INSERT</code></td></tr><tr><td><strong>Read</strong></td><td><code>SELECT</code></td></tr><tr><td><strong>Update</strong></td><td><code>UPDATE</code></td></tr><tr><td><strong>Delete</strong></td><td><code>DELETE</code></td></tr></tbody></table></div></div></section></div></div></div></article></main><script src=https://www.dbcourse2019.com/js/prism.js></script><script src=https://www.dbcourse2019.com/js/codemirror.js></script><script src=https://www.dbcourse2019.com/js/xml.js></script><script src=https://www.dbcourse2019.com/js/css.js></script><script src=https://www.dbcourse2019.com/js/javascript.js></script><script src=https://www.dbcourse2019.com/js/htmlmixed.js></script><script src=https://www.dbcourse2019.com/js/sql.js></script><script type=text/javascript>function qsa(sel){return Array.apply(null,document.querySelectorAll(sel));}
qsa('[data-code-mirror="html"]').forEach(function(editorEl){var mirror=CodeMirror.fromTextArea(editorEl,{lineNumbers:true,mode:'htmlmixed',theme:'material'});if(editorEl.hasAttribute("data-code-mirror-height")){var setHeight=editorEl.getAttribute("data-code-mirror-height");mirror.setSize(null,setHeight);}});qsa('[data-code-mirror="sql"]').forEach(function(editorEl){var mirror=CodeMirror.fromTextArea(editorEl,{lineNumbers:true,mode:'sql',theme:'material'});if(editorEl.hasAttribute("data-code-mirror-height")){var setHeight=editorEl.getAttribute("data-code-mirror-height");mirror.setSize(null,setHeight);}});</script></body></html>